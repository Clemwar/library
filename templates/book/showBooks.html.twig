{% extends('books.base.html.twig') %}

{% block main %}
    <section class="books" xmlns="http://www.w3.org/1999/html">
        {% if books | length == 0 %} <p>Aucun livre trouv√©.</p> {% endif %}
        {% for book in books %}
            <a href="{{ path('book', {'id':book.id}) }}" class="lienShowBooks">
                <article class="liste">
                    <header>
                        <h2>{{ book.title | slice (0, 23) }}{% if book.title | length > 23 %}...{% endif %}</h2>
                        <h4>Ecrit par {{ book.author.firstName }} {{ book.author.name }}</h4>
                    </header>
                    <div class="view">
                        <img src="{% if book.image %}{{ asset('assets/img/'~ book.image) }}{% else %}{{ asset('assets/img/new_book.jpg') }}{% endif %}" class="fluid" alt="">
                    </div>
                    <p>En savoir plus</p>
                </article>
            </a>
        {% endfor %}
    </section>
   <p style="text-align: center">Filtrer par genre : <a href="{{ path('books_by_style', {'style':'bd'}) }}">BD</a> <a href="{{ path('books_by_style', {'style':'roman'}) }}">ROMANS</a> <a href="{{ path('books_by_style', {'style':'fiction'}) }}">FICTION</a></p>
{% endblock %}
